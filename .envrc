# .envrc - Automatic environment loading with direnv
# Install direnv and run 'direnv allow' to use this

# Check if flakes are enabled
if command -v nix >/dev/null 2>&1 && nix flake show >/dev/null 2>&1; then
  echo "Loading flake-based development environment..."
  use flake
else
  echo "Loading shell.nix-based development environment..."
  use nix
fi

# Project-specific environment variables
export RUST_LOG=info
export CARGO_TARGET_DIR=target

# Custom aliases for development
alias cb="cargo build"
alias ct="cargo test"
alias cr="cargo run"
alias cc="cargo check"
alias cw="cargo watch -x check"
alias cdoc="cargo doc --no-deps --open"

echo "CIM Keys environment loaded!"
echo "Run 'cargo build' to compile the project"